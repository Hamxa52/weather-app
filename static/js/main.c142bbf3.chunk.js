(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/WeatherIcons.0a218296.gif"},18:function(e,t,a){e.exports=a(56)},2:function(e,t){e.exports={key:"1db07ab3c4f9dee0164d997f522b66c0",base:"https://api.openweathermap.org/data/2.5/"}},23:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),i=a.n(l),o=(a(23),a(2)),c=a.n(o),s=a(15),m=a.n(s),h=a(16),u=a.n(h),d=a(3),p=a.n(d);var w=function(e){const[t,a]=Object(n.useState)(""),[l,i]=Object(n.useState)(""),[o,s]=Object(n.useState)({}),m=Object(n.useCallback)(e=>{e&&u.a.get(`${c.a.base}weather?q=${e}&units=metric&APPID=${c.a.key}`).then(e=>{s(e.data),i("")}).catch(e=>{console.error(e),s({}),i("City not found. Please try another city.")})},[]),h="white",d=112,w=!0;return Object(n.useEffect)(()=>{m("Multan")},[m]),r.a.createElement("div",{className:"forecast"},r.a.createElement("div",{className:"forecast-icon"},r.a.createElement(p.a,{icon:e.icon,color:h,size:d,animate:w})),r.a.createElement("div",{className:"today-weather"},r.a.createElement("h3",null,e.weather),r.a.createElement("div",{className:"search-box"},r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search any city",onChange:e=>a(e.target.value),value:t}),r.a.createElement("div",{className:"img-box"},r.a.createElement("img",{src:"https://images.avishkaar.cc/workflow/newhp/search-white.png",alt:"Search",onClick:()=>m(t),style:{cursor:"pointer"}}))),r.a.createElement("ul",null,"undefined"!==typeof o.main?r.a.createElement("div",{className:"weather-details"},r.a.createElement("li",{className:"cityHead"},r.a.createElement("p",null,o.name,", ",o.sys.country),r.a.createElement("img",{className:"temp",src:`https://openweathermap.org/img/wn/${o.weather[0].icon}.png`,alt:"Weather icon"})),r.a.createElement("li",null,"Temperature"," ",r.a.createElement("span",{className:"temp"},Math.round(o.main.temp),"\xb0C (",o.weather[0].main,")")),r.a.createElement("li",null,"Humidity"," ",r.a.createElement("span",{className:"temp"},Math.round(o.main.humidity),"%")),r.a.createElement("li",null,"Visibility"," ",r.a.createElement("span",{className:"temp"},Math.round(o.visibility/1e3)," km")),r.a.createElement("li",null,"Wind Speed"," ",r.a.createElement("span",{className:"temp"},Math.round(o.wind.speed)," Km/h"))):r.a.createElement("div",{className:"error-message"},l?r.a.createElement("p",null,l):r.a.createElement("p",null,"Type in a city name and hit Search.")))))},E=a(17),y=a.n(E);const g="white",v=112,f=!0;class b extends r.a.Component{constructor(){super(...arguments),this.state={lat:30.1575,lon:71.5249,temperatureC:void 0,temperatureF:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,icon:"CLEAR_DAY",main:void 0},this.getPosition=e=>new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)})),this.getWeather=async(e,t)=>{try{const a=await fetch(`${c.a.base}weather?lat=${e}&lon=${t}&units=metric&APPID=${c.a.key}`);if(!a.ok)throw new Error("HTTP error! status: "+a.status);const n=await a.json();n&&n.main&&n.weather&&(this.setState({lat:e,lon:t,city:n.name,temperatureC:Math.round(n.main.temp),temperatureF:Math.round(1.8*n.main.temp+32),humidity:n.main.humidity,main:n.weather[0].main,country:n.sys.country}),this.setWeatherIcon(n.weather[0].main))}catch(a){console.error("Error fetching weather data:",a),alert("Failed to fetch weather data. Please try again later.")}},this.setWeatherIcon=e=>{const t={Haze:"CLEAR_DAY",Clouds:"CLOUDY",Rain:"RAIN",Snow:"SNOW",Dust:"WIND",Drizzle:"SLEET",Fog:"FOG",Smoke:"FOG",Tornado:"WIND",default:"CLEAR_DAY"};this.setState({icon:t[e]||t.default})}}componentDidMount(){navigator.geolocation?this.getPosition().then(e=>{this.getWeather(e.coords.latitude,e.coords.longitude)}).catch(()=>{this.getWeather(this.state.lat,this.state.lon),alert("You have disabled location services. Default location (Multan) weather will be shown.")}):(alert("Geolocation not available. Showing default location (Multan) weather."),this.getWeather(this.state.lat,this.state.lon)),this.timerID=setInterval(()=>this.getWeather(this.state.lat,this.state.lon),6e5)}componentWillUnmount(){clearInterval(this.timerID)}render(){const{temperatureC:e,city:t,country:a,main:n,icon:l}=this.state;return void 0!==e?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"city"},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,t),r.a.createElement("h3",null,a)),r.a.createElement("div",{className:"mb-icon"},r.a.createElement(p.a,{icon:l,color:g,size:v,animate:f}),r.a.createElement("p",null,n)),r.a.createElement("div",{className:"date-time"},r.a.createElement("div",{className:"dmy"},r.a.createElement("div",{className:"current-time"},r.a.createElement(m.a,{format:"HH:mm:ss",interval:1e3,ticking:!0})),r.a.createElement("div",{className:"current-date"},`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][(i=new Date).getDay()]}, ${i.getDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][i.getMonth()]} ${i.getFullYear()}`)),r.a.createElement("div",{className:"temperature"},r.a.createElement("p",null,e,"\xb0",r.a.createElement("span",null,"C"))))),r.a.createElement(w,{icon:l,weather:n})):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:y.a,alt:"Loading...",style:{width:"50%",WebkitUserDrag:"none"}}),r.a.createElement("h3",{style:{color:"white",fontSize:"22px",fontWeight:"600"}},"Detecting your location"),r.a.createElement("h3",{style:{color:"white",marginTop:"10px"}},"Your current location will be displayed and used for real-time weather calculation."));var i}}var N=b;a(55);var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(N,null)),r.a.createElement("div",{className:"footer-info"},r.a.createElement("a",{href:"https://www.htmlhints.com/article/how-to-create-toggle-switch/93",download:!0},"Download Source Code")," ","| Developed by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.gauravghai.dev/"},"Rao Hamza")," ","| Powered by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.htmlhints.com/"},"HTML HINTS")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}$/));window.process={env:{NODE_ENV:"development"}},i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.c142bbf3.chunk.js.map